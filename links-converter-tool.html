<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­ÙˆÙ„ Ù†ØµÙˆØµ Ø²Ø§Ø¯ Ø§Ù„Ø·Ø¨</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; padding: 20px; }
        .container { max-width: 800px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; text-align: center; }
        textarea { width: 100%; height: 200px; padding: 10px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 15px; resize: vertical; box-sizing: border-box; }
        .buttons { display: flex; gap: 10px; flex-wrap: wrap; }
        button { flex: 1; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-to-text { background-color: #27ae60; color: white; }
        .btn-to-json { background-color: #2980b9; color: white; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
        .copy-btn { background-color: #7f8c8d; color: white; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ”„ Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ØªØ¨Ø§Ø¯Ù„ÙŠ</h2>
    
    <textarea id="inputArea" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†ØµÙˆØµ Ù‡Ù†Ø§..."></textarea>
    
    <div class="buttons">
        <button class="btn-to-text" onclick="convertToText()">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù†Øµ (ÙÙŠØ³Ø¨ÙˆÙƒ/ØªÙ„Ø¬Ø±Ø§Ù…) ğŸ‘‡</button>
        <button class="btn-to-json" onclick="convertToJson()">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ ÙƒÙˆØ¯ (JSON) âš™ï¸</button>
    </div>

    <button class="copy-btn" onclick="copyText()">Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ø§ØªØ¬ âœ¨</button>
</div>

<script>
    const inputArea = document.getElementById('inputArea');

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† JSON Ø¥Ù„Ù‰ Ù†Øµ Ø¨Ø³ÙŠØ·
    function convertToText() {
        try {
            const rawValue = inputArea.value.trim();
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†ØµÙˆØµ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ù‡Ø§ Ù…ØµÙÙˆÙØ© ØµØ§Ù„Ø­Ø©
            let cleanValue = rawValue;
            if (!rawValue.startsWith('[')) cleanValue = `[${rawValue}]`;
            if (cleanValue.endsWith(',')) cleanValue = cleanValue.slice(0, -1) + ']';
            
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… eval Ø¨Ø­Ø°Ø± Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ØªÙŠ ØªØ´Ø¨Ù‡ ÙƒÙˆØ¯ JS Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ©
            const data = eval(cleanValue);
            
            let result = "";
            data.forEach(item => {
                result += `${item.title}ğŸ‘‡\n${item.url}\n\n`;
            });
            inputArea.value = result.trim();
        } catch (e) {
            alert("ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø´ÙƒÙ„ Ø³Ù„ÙŠÙ….");
        }
    }

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ù†Øµ Ø¨Ø³ÙŠØ· Ø¥Ù„Ù‰ JSON
    function convertToJson() {
        const text = inputArea.value.trim();
        const lines = text.split('\n').filter(line => line.trim() !== "");
        let jsonResult = [];

        for (let i = 0; i < lines.length; i += 2) {
            let title = lines[i].replace('ğŸ‘‡', '').trim();
            let url = lines[i + 1] ? lines[i + 1].trim() : "";
            
            if (title && url) {
                jsonResult.push(`{ title: "${title}", url: "${url}" }`);
            }
        }

        inputArea.value = "[\n  " + jsonResult.join(',\n  ') + "\n]";
    }

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù†Ø³Ø®
    function copyText() {
        inputArea.select();
        document.execCommand('copy');
        alert("ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!");
    }
</script>

</body>
</html>
