<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø£Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #f0f2f5; padding: 20px; }
        h1 { color: #333; }
        textarea { width: 95%; height: 200px; margin-bottom: 10px; padding: 10px; font-size: 14px; border: 1px solid #ccc; border-radius: 8px; }
        
        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .button-container { display: flex; gap: 10px; }

        button { 
            padding: 12px 20px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: bold; 
            transition: background-color 0.2s;
        }

        /* Ø²Ø± Ø§Ù„ØªØ­ÙˆÙŠÙ„ (Ø£Ø²Ø±Ù‚) */
        #convert-btn { background: #0073aa; color: white; }
        #convert-btn:hover { background: #005a87; }

        /* Ø²Ø± Ø§Ù„Ù†Ø³Ø® (Ø£Ø®Ø¶Ø±) */
        #copy-btn { background: #28a745; color: white; }
        #copy-btn:hover { background: #218838; }

        /* Ø²Ø± "ØªÙ… Ø§Ù„Ù†Ø³Ø®" (Ø±Ù…Ø§Ø¯ÙŠ) */
        #copy-btn.copied { background: #6c757d; }
        
        #output { background: #e9ebee; border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin-top: 15px; font-family: "Courier New", Courier, monospace; }
        #output::before { content: "Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¬Ø§Ù‡Ø² Ù„Ù„ØµÙ‚ ÙÙŠ ÙˆÙˆØ±Ø¯Ø¨Ø±ÙŠØ³:"; display: block; font-weight: bold; margin-bottom: 10px; font-family: sans-serif; color: #d9534f; }
    </style>
</head>
<body>

    <h1>Ø£Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (Ù„ÙˆÙˆØ±Ø¯Ø¨Ø±ÙŠØ³)</h1>
    <p>Ø§Ù„ØµÙ‚ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø®Ø§Ù… Ù‡Ù†Ø§ (Ø³Ø·Ø± Ø¹Ù†ÙˆØ§Ù†ØŒ Ø³Ø·Ø± Ø±Ø§Ø¨Ø·):</p>
    <textarea id="raw-input" placeholder="Ø§Ù„Ù…Ø±Ø´Ø¯ ÙÙŠ Ø§Ù„Ø£Ø·ÙØ§Ù„ğŸ‘‡&#10;go.doctorhypo.me/c7&#10;&#10;ØªØµÙ†ÙŠÙ Ø§Ù„Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©ğŸ‘‡&#10;t.me/doctorhypo/8131"></textarea>
    
    <div class="button-container">
        <button id="convert-btn" onclick="convertData()">ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
        <button id="copy-btn" onclick="copyToClipboard()">Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬</button>
    </div>
    
    <pre id="output"></pre>

    <script>
        // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­ÙˆÙŠÙ„
        function convertData() {
            const rawText = document.getElementById('raw-input').value;
            const lines = rawText.trim().split('\n');
            let output = '';

            for (let i = 0; i < lines.length; i += 2) {
                const rawTitle = lines[i] ? lines[i].trim() : '';
                const title = rawTitle.replace(/(\p{Emoji})+$/gu, '').trim();
                let url = lines[i + 1] ? lines[i + 1].trim() : '';

                if (!title || !url) {
                    if (!title && lines[i+1]) { i--; continue; } 
                    if (title && !url) { i--; continue; } 
                    continue;
                }
                
                const cleanTitle = title.replace(/"/g, '\\"'); 
                output += `    { title: "${cleanTitle}", url: "${url}" },\n`;
            }
            
            document.getElementById('output').textContent = output;
        }

        // âœ¨ ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        function copyToClipboard() {
            const outputText = document.getElementById('output').textContent;
            const copyButton = document.getElementById('copy-btn');

            if (!outputText) {
                alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ Ù„Ù†Ø³Ø®Ù‡! Ø§Ø¶ØºØ· 'ØªØ­ÙˆÙŠÙ„' Ø£ÙˆÙ„Ø§Ù‹.");
                return;
            }

            navigator.clipboard.writeText(outputText).then(function() {
                // Ù†Ø¬Ø­ Ø§Ù„Ù†Ø³Ø®
                copyButton.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
                copyButton.classList.add('copied'); // ÙŠØºÙŠØ± Ù„ÙˆÙ†Ù‡ Ù„Ù„Ø±Ù…Ø§Ø¯ÙŠ
                
                // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø²Ø± Ù„ÙˆØ¶Ø¹Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
                setTimeout(function() {
                    copyButton.textContent = 'Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬';
                    copyButton.classList.remove('copied');
                }, 2000);

            }, function(err) {
                // ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®
                alert('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠØ§Ù‹.');
            });
        }
    </script>

</body>
</html>
