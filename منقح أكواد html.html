<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تنظيف كود HTML من التنسيقات الزائدة</title>
<style>
body {
  font-family: "Cairo", sans-serif;
  margin: 30px;
  background: #f8f9fa;
  color: #333;
  text-align: center;
}
textarea {
  width: 90%;
  height: 200px;
  margin: 10px 0;
  padding: 10px;
  font-family: monospace;
  direction: ltr;
  border-radius: 10px;
  border: 1px solid #ccc;
}
button {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 20px;
  margin: 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
}
button:hover {
  background-color: #0056b3;
}
</style>
</head>
<body>

<h2>🧹 أداة تنظيف كود HTML</h2>
<p>ألصق الكود هنا 👇 ثم اضغط على "تنظيف الكود"</p>

<textarea id="inputCode" placeholder="ألصق كود HTML هنا..."></textarea>
<br>
<button onclick="cleanHTML()">تنظيف الكود</button>
<button onclick="copyCleaned()">نسخ الناتج</button>
<br>
<textarea id="outputCode" placeholder="الكود بعد التنظيف..." readonly></textarea>

<script>
function cleanHTML() {
  let html = document.getElementById("inputCode").value;

  // إزالة الخصائص الزائدة مثل style, class, id
  html = html.replace(/\s*(style|class|id|rel|target|align)="[^"]*"/gi, "");

  // إزالة الوسوم الفارغة مثل <p></p> أو <div></div>
  html = html.replace(/<(\w+)(?:\s[^>]*)?>\s*<\/\1>/g, "");

  // إزالة الفراغات و &nbsp;
  html = html.replace(/&nbsp;/g, " ");
  html = html.replace(/<br\s*\/?>/gi, "");

  // تنظيف الفراغات الزائدة
  html = html.replace(/\s{2,}/g, " ");
  
  // تنسيق بسيط للأسطر
  html = html.replace(/></g, ">\n<");

  document.getElementById("outputCode").value = html.trim();
}

function copyCleaned() {
  const output = document.getElementById("outputCode");
  output.select();
  document.execCommand("copy");
  alert("✅ تم نسخ الكود المنظف!");
}
</script>

</body>
</html>
