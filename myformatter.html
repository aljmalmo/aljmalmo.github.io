<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø³Ù‚ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    <style>
        /* Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 40px 20px;
            background-color: #f0f4f8; /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© ÙˆÙ†Ø§Ø¹Ù…Ø© */
            direction: rtl; 
            text-align: right;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #ffffff;
            padding: 35px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e7ee;
        }
        /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
        h1 {
            color: #1a73e8; /* Ø£Ø²Ø±Ù‚ Ù…Ù…ÙŠØ² */
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        h1 span {
            margin-left: 10px;
            font-size: 32px;
        }

        /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Øµ */
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            margin-top: 10px;
            border: 1px solid #cce0ff; /* Ø¥Ø·Ø§Ø± Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­ */
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
            resize: vertical;
            transition: border-color 0.3s;
        }
        textarea:focus {
            border-color: #1a73e8;
            box-shadow: 0 0 5px rgba(26, 115, 232, 0.5);
            outline: none;
        }
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ */
        #outputText {
            min-height: 250px;
            background-color: #f7f9fc; /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© Ù„Ù„Ù†ØªØ§Ø¦Ø¬ */
            direction: ltr; 
            text-align: left;
            font-family: monospace;
            color: #333;
        }

        /* Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .controls-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.1s;
            flex-grow: 1; /* Ù„Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„ØªÙ…Ø¯Ø¯ */
            min-width: 120px;
        }
        button:active {
            transform: scale(0.98);
        }
        button:disabled {
            background-color: #ccc !important;
            cursor: not-allowed;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ */
        #formatBtn {
            background-color: #4CAF50; /* Ø£Ø®Ø¶Ø± */
            color: white;
            flex-grow: 2; /* Ø¬Ø¹Ù„Ù‡ Ø£Ø·ÙˆÙ„ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
        }
        #formatBtn:hover {
            background-color: #43a047;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ù†Ø³Ø® */
        #copyBtn {
            background-color: #2196F3; /* Ø£Ø²Ø±Ù‚ */
            color: white;
        }
        #copyBtn:hover {
            background-color: #1e88e5;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ù„ØµÙ‚ */
        #pasteBtn {
            background-color: #FF9800; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            color: white;
        }
        #pasteBtn:hover {
            background-color: #fb8c00;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ù…Ø³Ø­ */
        #clearBtn {
            background-color: #f44336; /* Ø£Ø­Ù…Ø± */
            color: white;
        }
        #clearBtn:hover {
            background-color: #e53935;
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø© */
        #statusMessage {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            font-weight: bold;
            text-align: center;
            visibility: hidden;
            background-color: #fff3e0; /* Ø®Ù„ÙÙŠØ© ØµÙØ±Ø§Ø¡ ÙØ§ØªØ­Ø© */
            color: #ff9800;
        }
        .success {
            background-color: #e8f5e9 !important;
            color: #4CAF50 !important;
        }
        .error {
            background-color: #ffebee !important;
            color: #f44336 !important;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Ù…Ù†Ø³Ù‚ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· <span role="img" aria-label="Tool icon">ğŸ› ï¸ğŸ‘‡</span></h1>
    
    <p>**1. Ø§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ:** Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· ÙÙŠ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªØ§Ù„ÙŠ:</p>
    <textarea id="inputText" placeholder="Ø§Ù„ØµÙ‚ Ù†ØµÙˆØµÙƒ Ù‡Ù†Ø§: (Ø¹Ù†ÙˆØ§Ù† Ø«Ù… Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ)..."></textarea>
    
    <div class="controls-panel">
        <button id="formatBtn" onclick="processText()">ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ (Ø¥Ø¶Ø§ÙØ© ğŸ‘‡ ÙˆØ­Ø°Ù https://)</button>
        <button id="pasteBtn" onclick="pasteText()">Ù„ØµÙ‚ Ø§Ù„Ù†Øµ</button>
        <button id="clearBtn" onclick="clearTextareas()">Ù…Ø³Ø­ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ÙŠÙ†</button>
    </div>
    
    <div id="statusMessage">Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ù‡Ù†Ø§</div>
    
    <p>**2. Ø§Ù„Ù†ØªØ§Ø¦Ø¬:** Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³Ù‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø®:</p>
    <textarea id="outputText" readonly placeholder="Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ù†Ø³Ù‚Ø©..." style="min-height: 250px;"></textarea>

    <div class="controls-panel">
        <button id="copyBtn" onclick="copyOutput()" disabled style="flex-grow: 1;">Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³Ù‚</button>
    </div>

</div>

<script>
    const inputText = document.getElementById('inputText');
    const outputText = document.getElementById('outputText');
    const copyBtn = document.getElementById('copyBtn');
    const statusMessage = document.getElementById('statusMessage');

    // --- ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø§Ù„Ø© ---
    function showStatus(message, type = 'info') {
        statusMessage.innerText = message;
        statusMessage.className = '';
        statusMessage.style.visibility = 'visible';
        
        if (type === 'success') {
            statusMessage.classList.add('success');
        } else if (type === 'error') {
            statusMessage.classList.add('error');
        }
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†Ù
        setTimeout(() => { statusMessage.style.visibility = 'hidden'; }, 5000);
    }

    // --- 1. ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ---
    function processText() {
        const input = inputText.value;
        if (input.trim() === "") {
            showStatus('ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ ÙØ§Ø±Øº! ÙŠØ±Ø¬Ù‰ Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹.', 'error');
            return;
        }

        let lines = input.split('\n');
        let outputLines = [];
        let currentTitle = null;
        
        // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚
        for (let i = 0; i < lines.length; i++) {
            let line = lines[i].trim();
            
            if (line === '') continue;
            
            if (!line.toLowerCase().startsWith('http') && !currentTitle) {
                // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© ğŸ‘‡
                currentTitle = line.replace(/\s+$/, '') + 'ğŸ‘‡';
            } 
            else if (line.toLowerCase().startsWith('http') && currentTitle) {
                // Ø§Ù„Ø±Ø§Ø¨Ø·: Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨Ø§Ø¯Ø¦Ø© https:// Ø£Ùˆ http://
                let cleanedLink = line.replace(/^(https?:\/\/(www\.)?)/i, '');
                
                outputLines.push(currentTitle);
                outputLines.push(cleanedLink);
                outputLines.push(''); // Ø³Ø·Ø± ÙØ§Ø±Øº Ù„Ù„ÙØµÙ„
                
                currentTitle = null;
            }
        }
        
        // ØªØµÙÙŠØ© Ø£ÙŠ Ø³Ø·Ø± ÙØ§Ø±Øº Ø²Ø§Ø¦Ø¯ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
        while (outputLines.length > 0 && outputLines[outputLines.length - 1] === '') {
            outputLines.pop();
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        outputText.value = outputLines.join('\n');
        copyBtn.disabled = false;
        showStatus('ØªÙ… Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ø£Ø¯Ø§Ø© Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù†Ø³Ø®.', 'success');
    }

    // --- 2. ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù†Ø³Ø® ---
    function copyOutput() {
        if (outputText.value.trim() === "") {
            showStatus('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ ÙÙŠ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù†Ø³Ø®Ù‡.', 'error');
            return;
        }

        outputText.select();
        outputText.setSelectionRange(0, 99999); 
        
        try {
            document.execCommand('copy');
            showStatus('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ù†Ø³Ù‚ Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!', 'success');
        } catch (err) {
            showStatus('âŒ ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø® Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠØ§Ù‹.', 'error');
        }
        window.getSelection().removeAllRanges();
    }

    // --- 3. ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù„ØµÙ‚ (ØªØªØ·Ù„Ø¨ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª) ---
    async function pasteText() {
        try {
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Clipboard API Ø§Ù„Ø­Ø¯ÙŠØ«
            const text = await navigator.clipboard.readText();
            inputText.value = text;
            showStatus('ØªÙ… Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„.', 'info');
        } catch (err) {
            // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø£Ùˆ ÙƒØ§Ù† Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù…
            showStatus('ÙØ´Ù„ Ø§Ù„Ù„ØµÙ‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ! ÙŠØ±Ø¬Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… (Ctrl+V) Ø£Ùˆ Ø§Ù„Ù†Ù‚Ø± Ø¨Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙŠÙ…Ù†.', 'error');
        }
    }

    // --- 4. ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø³Ø­ ---
    function clearTextareas() {
        inputText.value = '';
        outputText.value = '';
        copyBtn.disabled = true;
        showStatus('ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­.', 'info');
    }

</script>

</body>
</html>
